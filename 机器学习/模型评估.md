# 模型评估
## 有哪些常见的评价指标
（1）错误率(Error rate)和精度(Accuracy)
（2）查准率(准确率-Precision)、查全率(召回率-Recall)
（3）P-R曲线、平衡点和F1衡量
（4）ROC、AUC
[前三类指标的详细介绍](https://mp.weixin.qq.com/s/qBLA63iW8oviFRO91Cxpjg)
[ROC、AUC详细介绍](https://mp.weixin.qq.com/s/CX7TpxmGiGVWAosxxGleUw)
## 准确率的局限性
accuracy=correct/total
缺点：当样本比例非常不均衡时，占比大的类别会成为影响准确率的最主要因素。当负样本只有1%，即使全部判为负也可以实现99%的准确率。
## RMSE指标居高不下的原因（95%的时间区间表现很好）
离群点是很可能的原因。事实上流量预估问题中，噪声是很容易出现的（刚上映的热播剧，突发事件）
1. 过滤离群点
2. 更改评价指标：平均绝对百分比误差MAPE（归一化）

## 谈谈ROC曲线
roc曲线经常作为评估二分类最重要的指标之一
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200123210427162.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MjE5OTU5,size_16,color_FFFFFF,t_70)
roc曲线的横坐标是假阳性率：FP/N
纵坐标是真阳性率: TP/P
AUC就是ROC曲线的面积，越大越好
## ROC和P-R比有何特点？
当正负样本分布发生变化时，ROC曲线形状基本不变，PR会发生剧烈变化。
ROC曲线不局限于特定数据集，广泛应用于排序、推荐、广告领域。
如果研究者更希望看到特定数据集的表现，可选用PR
## 哪些场景要用余弦相似度而不是欧氏距离，为何？
在文本、图像、视频等领域，对象的特征维度往往很高，适合余弦，欧式距离的数值受维度的影响。
比如用户观看行为A(1,0),B(0,1)就要用余弦，而分析用户活跃度时以登陆次数和平均时长作为特征时，A(1,10),B(10,100)就要用欧氏距离。
## 离线测试很充分，为何还要A/B测试
1. 离线评估无法完全消除模型过拟合的影响
2. 无法完全还原线上的工程环境
3. 某些商业指标无法在离线计算。比如离线是roc、pr曲线，线上会考虑ctr、留存时长、pv访问量等变化

## 如何进行A/B测试
主要手段是用户分桶，分为实验组和对照组，分桶要注意样本的独立性和采样方式的无偏性，userid需要是随机数。

## 模型评估过程，有哪些主要的验证方法
1. Holdout方法：样本7-3分，7训练，3验证。缺点是最后算出来的指标与原始分组有很大关系，随机性太大。
2. 交叉检验：k折交叉验证k经常取10；留一验证（开销太大了，很少使用）
3. 自助法：样本规模小的时候，还要从中划分测试集会使得训练集更少，自助法可以解决该问题。n次有放回的采样，最终将没有抽出的样本作为验证集。（当样本数很大时，有大约1/e的样本从未被选择过）